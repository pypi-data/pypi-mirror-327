"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4592],{46818:function(e,t,n){n.d(t,{Z:function(){return R}});var a=n(26068),i=n.n(a),r=n(90228),o=n.n(r),s=n(87999),l=n.n(s),c=n(48305),d=n.n(c),u=n(35652),h=n(9288),g=n(82187),f=n.n(g),m=n(32699),p=n(34682),A=n(50959),b=n(67825),w=n.n(b),v=n(19289),y=n(17098),x=n(67201),k=n(90049),E=n(20027),j=n(84206),C=n(35502),Q=n(19729),B=n(48980),S=n(54235),Z=n(11527),I=["height","width","autoSize","preview"],N=function(e){var t=e.height,n=void 0===t?100:t,a=e.width,r=e.autoSize,s=e.preview,c=void 0===s||s,u=w()(e,I),h=(0,A.useState)(a||0),g=d()(h,2),f=g[0],p=g[1],b=(0,A.useState)(!1),N=d()(b,2),z=N[0],R=N[1],J=(0,A.useCallback)((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t({ratio:(0,m.round)(n.width/n.height,2)})},n.onerror=function(){t({ratio:1})},n.src=e}))}),[]),U=(0,A.useCallback)(l()(o()().mark((function t(){var a,i;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,J(e.src||"");case 4:if(a=t.sent,i=a.ratio,"number"!=typeof n){t.next=11;break}p(n*i),t.next=12;break;case 11:throw new Error("Height must be a number");case 12:case"end":return t.stop()}}),t)}))),[J,n,e.src]),D=function(){var t=e.src||"",n=Date.now()+"",a=document.createElement("a");a.href=t,a.download=n,document.body.appendChild(a),a.click(),a.remove()},M=(0,A.useCallback)((function(){var t;null===(t=e.onLoad)||void 0===t||t.call(e),R(!1)}),[e.onLoad]);return(0,A.useEffect)((function(){U()}),[U]),(0,A.useEffect)((function(){p(a||0)}),[a]),(0,Z.jsx)(B.Z,i()(i()({},u),{},{height:z?"auto":n,width:z?"100%":f,onError:function(){R(!0)},onLoad:M,fallback:"data:image/png;base64,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",crossOrigin:"anonymous",preview:c&&!z&&{mask:(0,Z.jsx)(v.Z,{}),toolbarRender:function(e,t){var n=t.transform.scale,a=t.actions,i=a.onFlipY,r=a.onFlipX,o=a.onRotateLeft,s=a.onRotateRight,l=a.onZoomOut,c=a.onZoomIn,d=a.onReset;return(0,Z.jsxs)(S.Z,{size:12,className:"toolbar-wrapper",children:[(0,Z.jsx)(y.Z,{onClick:D}),(0,Z.jsx)(x.Z,{rotate:90,onClick:i}),(0,Z.jsx)(x.Z,{onClick:r}),(0,Z.jsx)(k.Z,{onClick:o}),(0,Z.jsx)(E.Z,{onClick:s}),(0,Z.jsx)(j.Z,{disabled:1===n,onClick:l}),(0,Z.jsx)(C.Z,{disabled:50===n,onClick:c}),(0,Z.jsx)(Q.Z,{onClick:d})]})}}}))},z=function(e){var t=e.editable,n=e.onDelete,a=e.onClick,r=e.autoSize,s=e.uid,c=e.loading,g=e.width,b=e.height,w=e.progress,v=e.maxHeight,y=e.maxWidth,x=e.dataUrl,k=void 0===x?"":x,E=e.style,j=e.autoBgColor,C=e.preview,Q=void 0===C||C,B=e.loadingSize,S=void 0===B?"default":B,I=A.useRef(null),z=A.useState({width:g,height:b}),R=d()(z,2),J=R[0],U=R[1],D=A.useMemo((function(){return c?{width:"100%",height:"100%"}:{}}),[c,J]),M=(0,A.useCallback)((function(){null==a||a(e)}),[a,e]),P=(0,A.useCallback)((function(t){if(r&&t.width&&t.height){var n=t.width,a=t.height,i=e.width,o=e.height;if(i&&o){var s=n/i,l=a/o,c=Math.min(s,l,1),d=i*c,u=o*c;d===J.width&&u===J.height||U({width:d,height:u})}}}),[r,e.width,e.height]),K=A.useCallback(l()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);return(0,Z.jsx)(p.Z,{onResize:P,children:(0,Z.jsxs)("div",{style:i()({},E),className:f()("single-image",{"auto-bg-color":j,"auto-size":r,loading:c}),children:[j&&(0,Z.jsx)("div",{className:"mask",style:{background:"url(".concat(k,") center center / cover no-repeat")}}),(0,Z.jsxs)("span",{className:"thumb-img",style:i()({},D),ref:I,children:[(0,Z.jsx)(Z.Fragment,{children:c?(0,Z.jsx)("span",{className:"progress-wrap",style:{width:"100%",height:"100%",display:"flex",border:"1px solid var(--ant-color-split)",borderRadius:"var(--border-radius-base)",justifyContent:"center",alignItems:"center",padding:"10px",overflow:"hidden"},children:(0,Z.jsx)(h.Z,{percent:(0,m.round)(w,0),type:"dashboard",size:S,steps:{count:50,gap:2},format:function(){return(0,Z.jsxs)("span",{className:"font-size-20",children:[(0,m.round)(w,0),"%"]})},trailColor:"var(--ant-color-fill-secondary)"})}):(0,Z.jsxs)("span",{onClick:M,className:"img",style:{maxHeight:"min(".concat(v,", 100%)"),maxWidth:"min(".concat(y,", 100%)")},children:[(0,Z.jsx)(N,{preview:Q,autoSize:r,src:k,width:J.width||100,height:J.height||100,onLoad:K}),w&&w<100&&(0,Z.jsx)("span",{className:"small-progress-wrap",children:(0,Z.jsx)(h.Z,{percent:(0,m.round)(w,0),type:"dashboard",size:"small",steps:{count:25,gap:3},format:function(){return(0,Z.jsxs)("span",{className:"font-size-12",children:[(0,m.round)(w,0),"%"]})},strokeColor:"var(--color-white-secondary)",trailColor:"var(--ant-color-fill-secondary)"})})]})}),t&&(0,Z.jsx)("span",{className:"del",onClick:function(){return n(s)},children:(0,Z.jsx)(u.Z,{})})]})]},s)})},R=A.memo(z)},37963:function(e,t){t.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},69997:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(48305),i=n.n(a),r=n(37963),o=n(32699),s=n.n(o),l=n(50959);function c(){var e=(0,l.useState)({width:window.innerWidth,height:window.innerHeight}),t=i()(e,2),n=t[0],a=t[1],o=(0,l.useState)(!1),c=i()(o,2),d=c[0],u=c[1],h=(0,l.useState)(!1),g=i()(h,2),f=g[0],m=g[1],p=(0,l.useState)(!1),A=i()(p,2),b=A[0],w=A[1],v=(0,l.useState)(""),y=i()(v,2),x=y[0],k=y[1],E=(0,l.useCallback)((function(e){return e<r.Z.sm?(u(!0),m(!1),w(!1),void k("sm")):e<r.Z.md?(u(!1),m(!0),w(!1),void k("md")):e<r.Z.lg?(u(!1),m(!1),w(!0),void k("lg")):(u(!1),m(!1),w(!0),void k("xl"))}),[]),j=(0,l.useCallback)(s().throttle((function(){a({width:window.innerWidth,height:window.innerHeight})}),200),[]);return(0,l.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[j]),(0,l.useEffect)((function(){E(n.width)}),[n.width,E]),{size:n,isMobile:d,isTablet:f,isDesktop:b,currentPoint:x}}},19427:function(e,t,n){n.d(t,{Z:function(){return K}});var a=n(90228),i=n.n(a),r=n(15558),o=n.n(r),s=n(87999),l=n.n(s),c=n(26068),d=n.n(c),u=n(48305),h=n.n(u),g=n(49280),f=n(82344),m=n(67201),p=n(51076),A=n(77353),b=n(35374),w=n(8267),v=n(85885),y=n(76571),x=n(83603),k=n(23333),E=n(32699),j=n.n(E),C=n(50959),Q=n(94299),B=n(1731),S=n(38780),Z=n(1956),I=n(87497),N=(n(64818),[{title:"Grammar correction",data:[{role:B.G7.System,content:"You will be provided with statements, and your task is to convert them to standard English."},{role:B.G7.User,content:"She no went to the market."}]},{title:"Summarize for a 2nd grader",data:[{role:B.G7.System,content:"Summarize content you are provided with for a second-grade student."},{role:B.G7.User,content:"Jupiter is the fifth planet from the Sun and the largest in the Solar System. It is a gas giant with a mass one-thousandth that of the Sun, but two-and-a-half times that of all the other planets in the Solar System combined. Jupiter is one of the brightest objects visible to the naked eye in the night sky, and has been known to ancient civilizations since before recorded history. It is named after the Roman god Jupiter.[19] When viewed from Earth, Jupiter can be bright enough for its reflected light to cast visible shadows,[20] and is on average the third-brightest natural object in the night sky after the Moon and Venus."}]},{title:"Keywords",data:[{role:B.G7.System,content:"You will be provided with a block of text, and your task is to extract a list of keywords from it."},{role:B.G7.User,content:"Black-on-black ware is a 20th- and 21st-century pottery tradition developed by the Puebloan Native American ceramic artists in Northern New Mexico. Traditional reduction-fired blackware has been made for centuries by pueblo artists. Black-on-black ware of the past century is produced with a smooth surface, with the designs applied through selective burnishing or the application of refractory slip. Another style involves carving or incising designs and selectively polishing the raised areas. For generations several families from Kha'po Owingeh and P'ohwhóge Owingeh pueblos have been making black-on-black ware with the techniques passed down from matriarch potters. Artists from other pueblos have also produced black-on-black ware. Several contemporary artists have created works honoring the pottery of their ancestors."}]},{title:"Spreadsheet creator",data:[{role:B.G7.User,content:"Create a two-column CSV of top science fiction movies along with the year of release."}]}]),z=n(11527),R=function(e){var t=e||{},n=t.open,a=t.onCancel,i=(0,b.useIntl)(),r=(0,S.Z)().initialize,o=C.useRef(null);C.useEffect((function(){o.current&&r(o.current)}),[o.current,r]);return(0,z.jsx)(Z.Z,{title:"Prompts",open:n,centered:!0,onCancel:a,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:660,styles:{content:{padding:"0"},header:{padding:"var(--ant-modal-content-padding)",marginBottom:"0"}},footer:null,children:(0,z.jsx)("div",{ref:o,style:{maxHeight:"550px",overflow:"auto"},children:(0,z.jsx)("div",{className:"prompt-wrapper",children:N.map((function(t,n){return(0,z.jsxs)("div",{className:"prompt-item",children:[(0,z.jsxs)("h3",{className:"title",children:[(0,z.jsx)("span",{className:"text",children:t.title}),(0,z.jsx)(v.ZP,{size:"middle",type:"default",onClick:function(){return function(t){e.onSelect(t.data),a()}(t)},children:i.formatMessage({id:"playground.compare.apply"})})]}),t.data.map((function(e,t){return(0,z.jsxs)("div",{className:"data-item",children:[(0,z.jsx)("span",{className:"role",children:e.role}),(0,z.jsx)("span",{className:"prompt",children:(0,z.jsx)(I.Z.Paragraph,{style:{margin:0},ellipsis:{rows:2,expandable:!0,symbol:"more"},children:e.content})})]},t)}))]},n)}))})})})},J=C.memo(R),U=n(42326),D=n(76574),M=[{label:"2 columns",icon:"icon-cols_2",value:{span:12,count:2},tips:"playground.toolbar.compare2Model"},{label:"3 columns",icon:"icon-cols_3",value:{span:8,count:3},tips:"playground.toolbar.compare3Model"},{label:"4 columns",icon:"icon-cols_4",value:{span:12,count:4},tips:"playground.toolbar.compare4Model"},{label:"6 columns",icon:"icon-cols_6",value:{span:8,count:6},tips:"playground.toolbar.compare6Model"}],P=(0,C.forwardRef)((function(e,t){var n=e.handleSubmit,a=e.handleAbortFetch,r=e.presetPrompt,s=e.clearAll,c=e.updateLayout,u=e.addMessage,E=e.onCheck,S=e.onInputChange,Z=e.title,I=e.loading,N=e.disabled,R=e.isEmpty,P=e.submitIcon,K=e.placeholer,F=e.defaultChecked,T=void 0===F||F,H=e.tools,L=e.style,G=e.checkLabel,Y=e.defaultSize,q=void 0===Y?{minRows:3,maxRows:8}:Y,W=e.shouldResetMessage,O=void 0===W||W,X=e.actions,V=void 0===X?["clear","layout","role","upload","add","paste"]:X,_=w.Z.TextArea,$=(0,b.useIntl)(),ee=(0,C.useState)(!1),te=h()(ee,2),ne=te[0],ae=te[1],ie=(0,C.useState)(!1),re=h()(ie,2),oe=re[0],se=re[1],le=(0,C.useState)({role:B.G7.User,content:"",imgs:[]}),ce=h()(le,2),de=ce[0],ue=ce[1],he=(0,C.useRef)(0),ge=(0,C.useRef)(null),fe=(0,C.useMemo)((function(){var e;return!!N||!de.content&&R&&!(null!==(e=de.imgs)&&void 0!==e&&e.length)}),[N,de,R]),me=function(){ue({role:de.role,content:"",imgs:[]})},pe=function(e){var t;null==S||S(e),ue(d()(d()({},de),{},{content:null===(t=e.target)||void 0===t?void 0:t.value}))},Ae=function(){n(d()({},de)),O&&me()},be=function(e){null==e||e.preventDefault(),null==u||u(d()({},de)),me(),se(!0),setTimeout((function(){var e,t;null===(e=ge.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}),100)},we=(0,C.useCallback)(function(){var e=l()(i()().mark((function e(t){var n,a,r,s,l,c,u;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.clipboardData||window.clipboardData,a=n.items,r=[],s=i()().mark((function e(){var t,n,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(t=a[l]).kind&&-1!==t.type.indexOf("image")?(n=t.getAsFile(),o=new Promise((function(e,t){var a=new FileReader;a.onload=function(n){var a,i=null===(a=n.target)||void 0===a?void 0:a.result;i?e(i):t("Failed to convert image to base64")},a.readAsDataURL(n)})),r.push(o)):t.kind;case 2:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<a.length)){e.next=10;break}return e.delegateYield(s(),"t0",7);case 7:l++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(r);case 13:(c=e.sent).length&&(u=j().map(c,(function(e){return he.current+=1,{uid:he.current,dataUrl:e}})),ue(d()(d()({},de),{},{imgs:[].concat(o()(de.imgs||[]),o()(u))}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}(),[de]),ve=function(e){var t=j().filter(de.imgs,(function(t){return t.uid!==e}));ue(d()(d()({},de),{},{imgs:t}))},ye=(0,C.useCallback)((function(){var e;if(de.imgs&&(null===(e=de.imgs)||void 0===e?void 0:e.length)>0){var t=o()(de.imgs||[]).pop();t&&ve(t.uid)}}),[de.imgs,ve]);(0,C.useCallback)((function(e){var t;"Backspace"===e.key&&""===de.content&&de.imgs&&(null===(t=de.imgs)||void 0===t?void 0:t.length)>0&&(e.preventDefault(),ye())}),[de,ye]);return(0,C.useImperativeHandle)(t,(function(){return{handleInputChange:pe}})),(0,Q.y1)(f.ZP.SUBMIT,(function(e){e.preventDefault(),Ae()}),{enabled:!I&&!fe,enableOnFormTags:oe,preventDefault:!0}),(0,Q.y1)(f.ZP.ADD,(function(e){e.preventDefault(),e.stopPropagation(),be()}),{enabled:!I,enableOnFormTags:oe,preventDefault:!0}),(0,Q.y1)(f.ZP.FOCUS,(function(){var e,t;null===(e=ge.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e,{cursor:"end"})}),{preventDefault:!0}),(0,z.jsxs)("div",{className:"messageInput",style:d()({},L),children:[(0,z.jsxs)("div",{className:"tool-bar",children:[(0,z.jsxs)("div",{className:"actions",children:[Z,V.includes("role")&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(v.ZP,{type:"text",size:"middle",onClick:function(){ue(d()(d()({},de),{},{role:de.role===B.G7.User?B.G7.Assistant:B.G7.User}))},icon:(0,z.jsx)(m.Z,{rotate:90}),children:$.formatMessage({id:"playground.".concat(de.role)})}),(0,z.jsx)(y.Z,{type:"vertical",style:{margin:0}})]}),V.includes("check")&&(0,z.jsx)(x.Z,{onChange:E,defaultChecked:T,children:G}),V.includes("upload")&&de.role===B.G7.User&&(0,z.jsx)(D.Z,{handleUpdateImgList:function(e){ue(d()(d()({},de),{},{imgs:[].concat(o()(de.imgs||[]),o()(e))}))},size:"middle"}),H,V.includes("clear")&&(0,z.jsx)(k.Z,{title:$.formatMessage({id:"common.button.clear"}),children:(0,z.jsx)(v.ZP,{type:"text",icon:(0,z.jsx)(p.Z,{}),size:"middle",onClick:function(e){e.stopPropagation(),s(),pe({target:{value:""}}),ue({role:B.G7.User,content:"",imgs:[]})}})}),V.includes("layout")&&c&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(y.Z,{type:"vertical",style:{margin:0}}),M.map((function(e){return(0,z.jsx)(k.Z,{title:$.formatMessage({id:e.tips}),children:(0,z.jsx)(v.ZP,{type:"text",icon:(0,z.jsx)(g.Z,{type:e.icon}),size:"middle",onClick:function(){return t=e.value,void(null==c||c(t));var t}},e.icon)},e.icon)}))]})]}),(0,z.jsxs)("div",{className:"actions",children:[V.includes("add")&&(0,z.jsx)(k.Z,{title:(0,z.jsxs)("span",{children:["[",f.d4.ADD.textKeybinding,"]"," ",$.formatMessage({id:"common.button.add"})]}),children:(0,z.jsx)(v.ZP,{type:"default",size:"middle",onClick:be,children:$.formatMessage({id:"common.button.add"})})}),I?(0,z.jsx)(v.ZP,{style:{width:46},type:"primary",onClick:function(){a()},size:"middle",icon:(0,z.jsx)(g.Z,{type:"icon-stop1",className:"font-size-14"})}):(0,z.jsx)(k.Z,{title:(0,z.jsxs)("span",{children:["[",f.d4.SUBMIT.textKeybinding,"]"," ",$.formatMessage({id:"common.button.submit"})]}),children:(0,z.jsx)(v.ZP,{style:{width:46},type:"primary",onClick:Ae,size:"middle",disabled:fe,children:null!=P?P:(0,z.jsx)(A.Z,{rotate:0,className:"font-size-14"})})})]})]}),(0,z.jsx)(U.Z,{dataList:de.imgs||[],onDelete:ve,editable:!0}),(0,z.jsxs)("div",{className:"input-box",children:[V.includes("paste")?(0,z.jsx)(_,{ref:ge,autoSize:{minRows:q.minRows,maxRows:q.maxRows},onChange:pe,value:de.content,size:"large",variant:"borderless",onFocus:function(){return se(!0)},onBlur:function(){return se(!1)},onPaste:function(e){e.clipboardData.getData("text")||(e.preventDefault(),we(e))}}):(0,z.jsx)(_,{ref:ge,autoSize:{minRows:q.minRows,maxRows:q.maxRows},onChange:pe,value:de.content,size:"large",variant:"borderless",onFocus:function(){return se(!0)},onBlur:function(){return se(!1)}}),!de.content&&!oe&&(0,z.jsx)("span",{className:"holder",dangerouslySetInnerHTML:{__html:null!=K?K:$.formatMessage({id:"playground.input.holder"})}})]}),(0,z.jsx)(J,{open:ne,onCancel:function(){return ae(!1)},onSelect:function(e){null==r||r(e)}})]})})),K=P},42326:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(26068),i=n.n(a),r=n(46818),o=n(81745),s=n(7922),l=n(32699),c=n.n(l),d=n(50959),u=n(11527),h=function(e){e.layout;var t=e.column,n=void 0===t?2:t,a=e.dataList,l=e.editable,h=e.responseable,g=e.gutter,f=e.onDelete,m=e.onClick,p=e.autoBgColor,A=e.autoSize,b=e.style,w=(0,d.useCallback)((function(e){null==f||f(e)}),[f]),v=(0,d.useCallback)((function(e){null==m||m(e)}),[m]),y=(0,d.useMemo)((function(){return h?1===a.length?{0:{justifyContent:"center",alignItems:"center"}}:2===a.length?{0:{justifyContent:"flex-end",alignItems:"center"},1:{justifyContent:"flex-start",alignItems:"center"}}:3===a.length?{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"}}:{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"},3:{justifyContent:"flex-start",alignItems:"flex-start"}}:{}}),[a.length,h,n]);return(0,u.jsx)(u.Fragment,{children:null!=a&&a.length?(0,u.jsx)("div",{className:"thumb-list-wrap",style:i()({},b),children:h?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{gutter:g||[],className:"flex-center",style:{height:a.length>n?"50%":"100%",flex:"none",width:"100%",justifyContent:1===a.length?"center":"flex-start"},children:c().map(c().slice(a,0,n),(function(e,t){return(0,u.jsx)(s.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,u.jsx)(r.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},y[t]||{}),loading:e.loading,autoSize:A,editable:l,autoBgColor:p,onDelete:w,onClick:function(){return v(e)}}))},"1-".concat(t))}))}),a.length>n&&(0,u.jsx)(o.Z,{gutter:g||[],style:{height:"50%",flex:"none",width:"100%",justifyContent:1===a.length?"center":"flex-start"},className:"flex-center",children:c().map(c().slice(a,2),(function(e,t){return(0,u.jsx)(s.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,u.jsx)(r.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},y[t+2]||{}),loading:e.loading,autoSize:A,editable:l,autoBgColor:p,onDelete:w,onClick:function(){return v(e)}}))},"2-".concat(t))}))})]}):(0,u.jsx)(u.Fragment,{children:c().map(a,(function(e){return(0,d.createElement)(r.Z,i()(i()({},e),{},{preview:e.preview,key:e.uid,autoSize:A,editable:l,autoBgColor:p,onDelete:w,onClick:function(){return v(e)}}))}))})}):null})},g=d.memo(h)},76574:function(e,t,n){var a=n(90228),i=n.n(a),r=n(87999),o=n.n(r),s=n(56642),l=n(35374),c=n(30898),d=n(23333),u=n(85885),h=n(32699),g=n(50959),f=n(11527),m=function(e){var t=e.handleUpdateImgList,n=e.multiple,a=void 0===n||n,r=e.drag,m=void 0!==r&&r,p=e.disabled,A=void 0!==p&&p,b=e.children,w=e.accept,v=void 0===w?"image/*":w,y=e.size,x=void 0===y?"small":y,k=(0,l.useIntl)(),E=(0,g.useRef)(null),j=(0,g.useCallback)((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t({rawWidth:(0,h.round)(n.width,0),rawHeight:(0,h.round)(n.height,0)})},n.onerror=function(){t({rawWidth:0,rawHeight:0})},n.src=e}))}),[]),C=(0,g.useCallback)((function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}),[]),Q=(0,g.useCallback)((0,h.debounce)((function(e){t(e)}),300),[t,k]),B=(0,g.useCallback)(function(){var e=o()(i()().mark((function e(t){var n,a,r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileList,e.next=3,Promise.all(n.map(function(){var e=o()(i()().mark((function e(t){var n,a,r,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.originFileObj||t.url){e.next=12;break}return e.next=3,C(t.originFileObj);case 3:return n=e.sent,e.next=6,j(n);case 6:a=e.sent,r=a.rawWidth,o=a.rawHeight,t.url=n,t.rawWidth=r,t.rawHeight=o;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:(a=e.sent).length>0&&(r=a.filter((function(e){return e.url})).map((function(e){return{dataUrl:e.url,uid:e.uid,rawWidth:e.rawWidth,rawHeight:e.rawHeight}})),Q(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,C]);return(0,f.jsx)(f.Fragment,{children:m?(0,f.jsx)(c.Z.Dragger,{ref:E,accept:v,multiple:a,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:B,children:null!=b?b:(0,f.jsx)(d.Z,{title:k.formatMessage({id:"playground.img.upload"}),children:(0,f.jsx)(u.ZP,{disabled:A,size:x,type:"text",icon:(0,f.jsx)(s.Z,{})})})}):(0,f.jsx)(c.Z,{ref:E,accept:v,multiple:a,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:B,children:null!=b?b:(0,f.jsx)(d.Z,{title:k.formatMessage({id:"playground.img.upload"}),children:(0,f.jsx)(u.ZP,{disabled:A,size:x,type:"text",icon:(0,f.jsx)(s.Z,{})})})})})};t.Z=g.memo(m)},1731:function(e,t,n){n.d(t,{G7:function(){return a},NW:function(){return r},Yo:function(){return l},ce:function(){return s},kA:function(){return i},ql:function(){return o}});n(26068),n(32699);var a={User:"user",Assistant:"assistant",System:"system"},i=(a.User,a.Assistant,function(e){if(!e.length)return[];var t=[];return e.forEach((function(e){var n;if(null!==(n=e.imgs)&&void 0!==n&&n.length){var a=e.imgs.map((function(e){return{type:"image_url",image_url:{url:e.dataUrl}}}));t.push({role:e.role,content:a})}e.content&&t.push({role:e.role,content:e.content})})),t}),r={chat:{api:"chat/completions",clientType:"chat.completions.create",logcommand:"choices[0].message.content"},embeddings:{api:"embeddings",clientType:"embedding.create",logcommand:"data[0].embedding"},images:{api:"images/generations",clientType:"images.generate",logcommand:"data[0].b64_json"},imageAdvanced:{api:"/v1-openai/images/generations",clientType:"images.generate",logcommand:{python:"json()['data'][0]['b64_json']",node:"data.data[0].b64_json"}},rerank:{api:"/v1/rerank",logcommand:{python:"json()",node:"data"}}},o=[".mp3",".mp4",".wav",".m4a"],s=["a lovely cat.","Digital art, portrait of an anthropomorphic roaring Tiger warrior with full armor, close up in the middle of a battle, behind him there is a banner with the text 'Open Source'.","An astronaut riding a green horse.","a female character with long, flowing hair that appears to be made of ethereal, swirling patterns resembling the Northern Lights or Aurora Borealis. The background is dominated by deep blues and purples, creating a mysterious and dramatic atmosphere. The character's face is serene, with pale skin and striking features. She wears a dark-colored outfit with subtle patterns. The overall style of the artwork is reminiscent of fantasy or supernatural genres.","A whimsical and creative image depicting a hybrid creature that is a mix of a waffle and a hippopotamus, basking in a river of melted butter amidst a breakfast-themed landscape. It features the distinctive, bulky body shape of a hippo. However, instead of the usual grey skin, the creature's body resembles a golden-brown, crispy waffle fresh off the griddle. The skin is textured with the familiar grid pattern of a waffle, each square filled with a glistening sheen of syrup. The environment combines the natural habitat of a hippo with elements of a breakfast table setting, a river of warm, melted butter, with oversized utensils or plates peeking out from the lush, pancake-like foliage in the background, a towering pepper mill standing in for a tree.  As the sun rises in this fantastical world, it casts a warm, buttery glow over the scene. The creature, content in its butter river, lets out a yawn. Nearby, a flock of birds take flight.","A cinematic shot of a baby racoon wearing an intricate italian priest robe.","Create portraits of characters in the style of classical oil painting, Capturing the essence of Chinese aristocracy in the Han Dynasty period. This portrait should feature a Chinese male character dressed in exquisite and gorgeous Chinese Han style clothing, with a dignified demeanor. The background should be a simple and elegant wallpaper pattern, with the face and upper body of the character as the focus. The lighting should be soft and diffuse, highlighting the characteristics of the character and the complex details of the clothing. The color palette should be rich and warm, with red, gold, and dark green.","photo of a young woman with long, wavy brown hair tied in a bun and glasses. She has a fair complexion and is wearing subtle makeup, emphasizing her eyes and lips. She is dressed in a black top. The background appears to be an urban setting with a building facade, and the sunlight casts a warm glow on her face.","A portrait of women with blue eyes.","A close-up image of a light brown and cream-colored Bengal kitten, lying on a cream-colored surface, with a person's hand gently touching the kitten's head, capturing the soft textures of the fur and the subtle patterns, emphasizing the natural light and shadow play on the animal's body.","A German Shepherd dog playfully carrying a stick, with a smaller German Shepherd puppy running alongside in a grassy field, showcasing a rich, natural color palette of greens, browns, and tans, and a dynamic action shot with a focus on vibrant texture and depth of field.","A young woman with long, dark, wavy hair, wearing a light olive green flowing dress, looks directly at the camera, standing near a window with a soft out-of-focus background of dark green curtains and light green.  The image should be sharp, focused on the woman's face, and evoke a natural, soft beauty aesthetic with a slightly muted color palette.","A sleepy panda cub rests comfortably on a large, ornate tree branch, its black and white fur contrasting against the reddish-brown bark of the textured, sculpted tree trunk, surrounded by lush green foliage and branches.  ","A full shot of two people jogging at sunset,  featuring a vibrant, warm color palette shifting from twilight blues to peachy-orange tones, with visible sun rays and lens flares, conveying a sense of leisure and athleticism.","A close-up portrait of a golden retriever wearing black-framed glasses,  exhibiting a rich golden-brown coat with a fluffy texture,  and a neutral, light gray background."],l=function(e){var t,n,a,i;return(null==e||null===(t=e.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.detail)||(null==e||null===(n=e.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||(null==e||null===(a=e.data)||void 0===a||null===(a=a.error)||void 0===a?void 0:a.message)||(null==e||null===(i=e.data)||void 0===i?void 0:i.error)||""}},76223:function(){}}]);