"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4674],{56838:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(35453),o=n(50959),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},a=n(52273),l=function(e,t){return o.createElement(a.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var s=o.forwardRef(l)},16204:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(26068),o=n.n(r),i=n(48305),a=n.n(i),l=n(67825),s=n.n(l),c=n(43943),u=n(23333),d=n(76808),f=n(32699),m=n(50959),p=n(38780),v=n(11527),h=function(e){var t=e.isOverflowing,n=e.showTitle,r=e.title,o=e.children,i=(0,p.Z)().initialize,a=m.useRef(null);return m.useEffect((function(){a.current&&i(a.current)}),[i,a.current]),(0,v.jsx)("div",{style:{maxHeight:200,overflowY:"auto"},ref:a,children:(0,v.jsx)("div",{style:{width:"max-content",maxWidth:250,paddingInline:10},children:t||n?r||o:""})})},x=m.memo(h),g=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps"],y=function(e){var t=e.children,n=e.maxWidth,r=void 0===n?"100%":n,i=e.minWidth,l=e.ghost,p=void 0!==l&&l,h=e.title,y=e.showTitle,b=void 0!==y&&y,j=e.tooltipProps,C=s()(e,g),Z=(0,m.useRef)(null),k=(0,m.useState)(!1),M=a()(k,2),w=M[0],E=M[1],S=(0,m.useCallback)((function(){if(Z.current){var e=Z.current,t=e.scrollWidth,n=e.clientWidth;E(t>n)}}),[Z.current]);(0,m.useEffect)((function(){var e=Z.current;if(e){var t=new ResizeObserver((function(){S()}));return t.observe(e),S(),function(){return t.disconnect()}}}),[S]),(0,m.useEffect)((function(){var e=(0,f.throttle)(S,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[S]),(0,m.useEffect)((function(){S()}),[t,S]);var T=(0,m.useMemo)((function(){return o()({maxWidth:r,minWidth:i,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},C.style)}),[r,C.style]);return(0,v.jsx)(u.Z,o()(o()({overlayInnerStyle:{paddingInline:0},destroyTooltipOnHide:!1,title:w||b?(0,v.jsx)(x,{isOverflowing:w,title:h,showTitle:b,children:t}):""},j),{},{children:p?(0,v.jsx)("div",{ref:Z,style:T,"data-overflow":w,children:t}):(0,v.jsx)(d.Z,o()(o()({},C),{},{ref:Z,style:o()(o()({},T),{},{paddingInline:C.closable?"8px 22px":8,borderRadius:12}),closeIcon:!!C.closable&&(0,v.jsx)(c.Z,{style:{position:"absolute",right:8,top:8}}),children:t}))}))},b=m.memo(y)},63417:function(e,t,n){var r=n(26068),o=n.n(r),i=n(48305),a=n.n(i),l=n(5268),s=n(26268),c=n(35374),u=n(70109),d=n(23333),f=n(85885),m=n(99013),p=n.n(m),v=n(50959),h=n(11527);t.Z=function(e){var t=e.text,n=e.disabled,r=e.type,i=void 0===r?"text":r,m=e.shape,x=void 0===m?"default":m,g=e.fontSize,y=void 0===g?"14px":g,b=e.style,j=e.placement,C=e.size,Z=void 0===C?"middle":C,k=(0,c.useIntl)(),M=(0,v.useState)(!1),w=a()(M,2),E=w[0],S=w[1],T=(0,v.useRef)(null),I=(0,v.useRef)(null);return(0,v.useEffect)((function(){return T.current&&(I.current=new(p())(T.current),I.current.on("success",(function(){S(!0),setTimeout((function(){S(!1)}),3e3)})),I.current.on("error",(function(e){u.ZP.success(k.formatMessage({id:"common.copy.fail"})),e.clearSelection()}))),function(){var e;null===(e=I.current)||void 0===e||e.destroy()}}),[T]),(0,h.jsx)(d.Z,{title:k.formatMessage({id:"common.button.copy"}),placement:j,children:(0,h.jsx)(f.ZP,{className:"copy-button",ref:T,type:i,shape:x,size:Z,disabled:!!n,"data-clipboard-text":t,icon:E?(0,h.jsx)(l.Z,{style:{color:"var(--ant-color-success)",fontSize:y}}):(0,h.jsx)(s.Z,{style:o()({fontSize:y},b)})})})}},92800:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(90228),o=n.n(r),i=n(87999),a=n.n(i),l=n(48305),s=n.n(l),c=n(72541),u=n(35374),d=n(70109),f=n(1956),m=n(54235),p=n(85885),v=n(50959),h="delete-modal-content___bdNBR",x="content___YptSA",g=n(11527),y=(0,v.forwardRef)((function(e,t){var n=(0,u.useIntl)(),r=(0,v.useState)(!1),i=s()(r,2),l=i[0],y=i[1],b=(0,v.useState)({}),j=s()(b,2),C=j[0],Z=j[1];(0,v.useImperativeHandle)(t,(function(){return{show:function(e){Z(e),y(!0)},hide:function(){y(!1)}}}));var k=function(){var e;y(!1),null===(e=C.onCancel)||void 0===e||e.call(C)},M=function(){var e=a()(o()().mark((function e(){var t;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=C.onOk)||void 0===t?void 0:t.call(C);case 2:d.ZP.success(n.formatMessage({id:"common.message.success"})),y(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(f.Z,{style:{top:"20%"},open:l,onOk:M,onCancel:k,destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:460,styles:{},footer:(0,g.jsxs)(m.Z,{size:20,children:[(0,g.jsx)(p.ZP,{onClick:k,size:"middle",children:C.cancelText?n.formatMessage({id:C.cancelText}):n.formatMessage({id:"common.button.cancel"})}),(0,g.jsx)(p.ZP,{type:"primary",onClick:M,size:"middle",children:C.okText?n.formatMessage({id:C.okText}):n.formatMessage({id:"common.button.delete"})})]}),children:[(0,g.jsx)("div",{className:h,children:(0,g.jsxs)("span",{className:"title",children:[(0,g.jsx)(c.Z,{}),(0,g.jsx)("span",{children:C.title?n.formatMessage({id:C.title}):n.formatMessage({id:"common.title.delete.confirm"})})]})}),(0,g.jsx)("div",{className:x,dangerouslySetInnerHTML:{__html:C.content&&n.formatMessage({id:C.operation||""},{type:n.formatMessage({id:C.content}),name:C.name})}})]})})),b=y},67768:function(e,t,n){var r=n(26068),o=n.n(r),i=n(35374),a=n(54235),l=n(85885),s=n(11527);t.Z=function(e){var t=e.onOk,n=e.onCancel,r=e.cancelText,c=e.okText,u=e.okBtnProps,d=e.cancelBtnProps,f=e.loading,m=e.htmlType,p=void 0===m?"button":m,v=(e.align,e.style),h=(e.form,(0,i.useIntl)());return(0,s.jsxs)(a.Z,{size:20,style:o()({},v),children:[(0,s.jsx)(l.ZP,o()(o()({onClick:n,style:{width:"88px"}},d),{},{children:r||h.formatMessage({id:"common.button.cancel"})})),(0,s.jsx)(l.ZP,o()(o()({type:"primary",onClick:t,style:{width:"88px"},loading:f,htmlType:p},u),{},{children:c||h.formatMessage({id:"common.button.save"})}))]})}},62722:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(50959),o=n(11527),i=function(e){var t=e.left,n=e.right,i=e.marginBottom,a=void 0===i?0:i,l=e.marginTop,s=void 0===l?30:l,c=e.style,u=(0,r.useMemo)((function(){var e={};return e.marginBottom="".concat(a,"px"),e.marginTop="".concat(s,"px"),c&&Object.assign(e,c),e}),[a,s,c]);return(0,o.jsxs)("div",{className:"page-tools",style:u,children:[(0,o.jsx)("div",{className:"left",children:t}),(0,o.jsx)("div",{className:"right",children:n})]})}},55825:function(e,t,n){var r=n(26068),o=n.n(r),i=n(48305),a=n.n(i),l=n(67825),s=n.n(l),c=n(58258),u=n(35374),d=n(68476),f=n(60857),m=n(32699),p=n(50959),v=n(39881),h=n(11527),x=["label","placeholder","children","required","description","options","allowNull","isInFormItems"];t.Z=function(e){var t=e.label,n=(e.placeholder,e.children),r=e.required,i=e.description,l=e.options,g=e.allowNull,y=e.isInFormItems,b=void 0===y||y,j=s()(e,x),C=(0,u.useIntl)(),Z=(0,p.useState)(!1),k=a()(Z,2),M=k[0],w=k[1],E=(0,p.useRef)(null),S="";if(b){var T,I,R=null===d.Z||void 0===d.Z||null===(T=d.Z.Item)||void 0===T||null===(I=T.useStatus)||void 0===I?void 0:I.call(T);S=(null==R?void 0:R.status)||""}var A=(0,p.useMemo)((function(){return null!=l&&l.length?(0,m.cloneDeep)(l).map((function(e){return e.locale&&(e.label=C.formatMessage({id:e.label})),e})):[]}),[l,C]);(0,p.useEffect)((function(){((0,c.JL)(e.value)||g&&null===e.value)&&w(!0)}),[e.value,g]);return(0,h.jsx)(v.Z,{status:S,label:t,isFocus:M,required:r,description:i,disabled:e.disabled,onClick:function(){var t,n;e.disabled||M||(null===(t=E.current)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t),w(!0))},children:(0,h.jsx)(f.default,o()(o()({},j),{},{ref:E,options:n?null:A,onFocus:function(t){var n;w(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;g&&null===e.value?w(!0):e.value||w(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)},onChange:function(t,n){var r;(0,c.JL)(t)||g&&null===t?w(!0):w(!1),null===(r=e.onChange)||void 0===r||r.call(e,t,n)},notFoundContent:null,children:n}))})}},82344:function(e,t,n){n.d(t,{d4:function(){return l}});var r=n(48305),o=n.n(r),i=(0,n(58258).oc)(),a={CREATE:["Alt+Ctrl+N","Alt+Meta+N"],CLEAR:["Alt+Ctrl+K","Alt+Meta+K"],RIGHT:["Ctrl+RIGHT","Meta+RIGHT"],SAVE:["Ctrl+S","Meta+S"],SUBMIT:["Ctrl+Enter","Meta+Enter"],SAVEAS:["Alt+Ctrl+S","Alt+Meta+S"],OPEN:["Alt+Ctrl+O","Alt+Meta+O"],CANCEL:["Ctrl+W","Meta+W"],DELETE:["delete"],COPY:["Ctrl+C","Meta+C"],REFRESH:["Ctrl+R","Meta+R"],EDIT:["Ctrl+E","Meta+E"],SEARCH:["Ctrl+K","Meta+K"],RESET:["Alt+Ctrl+R","Alt+Meta+R"],INPUT:["Ctrl+K","Meta+K"],NEW1:["Ctrl+1","Meta+1"],NEW2:["Ctrl+2","Meta+2"],NEW3:["Ctrl+3","Meta+3"],NEW4:["Ctrl+4","Meta+4"],FOCUS:["/","/"],ADD:["Alt+Ctrl+Enter","Alt+Meta+Enter"]},l=Object.entries(a).map((function(e){var t=o()(e,2),n=t[0],r=t[1],a=i.isMac&&r[1]||r[0];return{keybinding:a,command:n,textKeybinding:i.isMac?a.replace("Meta","Cmd").replace("Alt","Option"):a.replace("Ctrl","Ctrl"),iconKeybinding:i.isMac?a.replace("Meta","⌘").replace("Alt","⌥"):a.replace("Ctrl","Ctrl")}})).reduce((function(e,t){return e[t.command]=t,e}),{});t.ZP=a},38780:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(26068),o=n.n(r),i=n(48305),a=n.n(i),l=n(32699),s=n(92605),c=n(50959);function u(e){var t,n=e||{},r=n.options,i=n.events,u=n.defer,d=void 0===u||u,f=c.useRef(null),m=c.useRef(null),p=c.useRef(!1),v=(0,s.A)({options:{update:{debounce:0},overflow:{x:"hidden"},scrollbars:{theme:(null==r?void 0:r.theme)||"os-theme-dark",autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"}},events:o()({},i),defer:d}),h=a()(v,2),x=h[0],g=h[1];m.current=null==g?void 0:g(),f.current=null===(t=m.current)||void 0===t||null===(t=t.elements())||void 0===t?void 0:t.scrollEventElement;var y=c.useCallback((0,l.throttle)((function(){var e,t,n,r,o;null===(e=f.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:null===(n=f.current)||void 0===n?void 0:n.scrollHeight,behavior:"smooth"}),null===(r=m.current)||void 0===r||null===(o=r.update)||void 0===o||o.call(r)}),100),[(f.current,m.current)]),b=c.useCallback((function(){var e,t,n,r;null===(e=f.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:f.current.scrollHeight,behavior:"auto"}),null===(n=m.current)||void 0===n||null===(r=n.update)||void 0===r||r.call(n)}),[f.current,m.current]),j=c.useCallback((function(e){0===e?b():y()}),[y,b]),C=c.useCallback((function(){var e,t,n,r;null===(e=f.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:0,behavior:"auto"}),null===(n=m.current)||void 0===n||null===(r=n.update)||void 0===r||r.call(n)}),[f.current,m.current]),Z=c.useCallback((function(e){if(m.current)return m.current;var t;e&&(x(e),p.current=!0,m.current=null==g?void 0:g(),f.current=null===(t=m.current)||void 0===t||null===(t=t.elements())||void 0===t?void 0:t.scrollEventElement);return m.current}),[x,g]);return(0,c.useEffect)((function(){return function(){var e,t;null===(e=m.current)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}}),[g]),{initialize:Z,instance:m.current,scrollEventElement:f.current,initialized:p.current,generateInstance:function(){var e;m.current=null==g?void 0:g(),f.current=null===(e=m.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:j,updateScrollerPositionToTop:C}}},66182:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(48305),o=n.n(r),i=n(50959);function a(){var e=(0,i.useState)([]),t=o()(e,2),n=t[0],r=t[1],a={selectedRowKeys:n,clearSelections:function(){r([])},onChange:function(e){r(e)},removeSelectedKeys:function(e){r((function(t){return t.filter((function(t){return!e.includes(t)}))}))},removeSelectedKey:function(e){Array.isArray(e)?r((function(t){return t.filter((function(t){return!e.includes(t)}))})):r((function(t){return t.filter((function(t){return t!==e}))}))}};return a}},61918:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(48305),o=n.n(r),i=n(50959);function a(e){var t=e.defaultSortOrder,n=void 0===t?"descend":t,r=(0,i.useState)(n),a=o()(r,2),l=a[0],s=a[1];return{sortOrder:l,setSortOrder:function(e){e?s(e):"descend"===n?s("ascend"):"ascend"===n&&s("descend")}}}},80327:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(90228),o=n.n(r),i=n(87999),a=n.n(i),l=n(26068),s=n.n(l),c=n(48305),u=n.n(c),d=n(16204),f=n(92800),m=n(62722),p=n(20369),v=n(82344),h=n(66182),x=n(61918),g=n(58258),y=n(56838),b=n(19019),j=n(69070),C=n(67581),Z=n(35374),k=n(44089),M=n(23010),w=n(54235),E=n(8267),S=n(85885),T=n(82930),I=n(23333),R=n(7672),A=n.n(R),O=n(32699),P=n.n(O),z=n(50959),K=n(94299),N="/api-keys";function H(e){return _.apply(this,arguments)}function _(){return(_=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("".concat(N),{method:"GET",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return L.apply(this,arguments)}function L(){return(L=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("".concat(N),{method:"POST",data:t.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("".concat(N,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=n(63417),q=n(67768),Y=n(39139),G=n(55825),U=n(68476),V=n(1956),J=n(76808),Q=[{label:"apikeys.form.expiration.7days",type:"day",value:7,locale:!0},{label:"apikeys.form.expiration.1month",type:"month",value:1,locale:!0},{label:"apikeys.form.expiration.6months",type:"month",value:6,locale:!0},{label:"apikeys.form.expiration.never",type:"never",value:-1,locale:!0}],X=n(11527),$=function(e){var t=e.title,n=e.action,r=e.open,i=e.onOk,l=e.onCancel,c=U.Z.useForm(),d=u()(c,1)[0],f=(0,Z.useIntl)(),m=(0,z.useState)(!1),v=u()(m,2),h=v[0],x=v[1],g=(0,z.useState)(""),y=u()(g,2),b=y[0],j=y[1],C=(0,z.useState)(!1),k=u()(C,2),M=k[0],w=k[1];(0,z.useEffect)((function(){n===p.Kd.CREATE&&r&&d.setFieldsValue({expires_in:1})}),[r]);var E=function(e){var t=e;if(-1===t)return 0;var n=Q.find((function(e){return t===e.value})),r=A()().add(null==n?void 0:n.value,"".concat(null==n?void 0:n.type)),o=A()();return r.diff(o,"second")},T=function(){var e=a()(o()().mark((function e(t){var n,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),n=s()(s()({},t),{},{expires_in:E(t.expires_in)}),e.next=5,W({data:n});case 5:r=e.sent,j(r.value),x(!0),w(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),w(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){d.submit()};return(0,X.jsx)(V.Z,{title:h?f.formatMessage({id:"apikeys.title.save"}):t,open:r,centered:!0,onOk:I,onCancel:l,afterOpenChange:function(e){x(!1)},destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:600,styles:{},footer:h?(0,X.jsx)(S.ZP,{type:"primary",onClick:function(){i()},children:f.formatMessage({id:"common.button.done"})}):(0,X.jsx)(q.Z,{onOk:I,onCancel:l,loading:M}),children:(0,X.jsx)(U.Z,{name:"addAPIKey",form:d,onFinish:T,preserve:!1,children:h?(0,X.jsxs)(U.Z.Item,{children:[(0,X.jsx)("div",{children:(0,X.jsx)(J.Z,{bordered:!1,color:"error",style:{padding:"6px 8px",marginBottom:16},children:f.formatMessage({id:"apikeys.table.save.tips"})})}),(0,X.jsx)(Y.Z.Input,{label:f.formatMessage({id:"apikeys.form.apikey"}),value:b,addAfter:(0,X.jsx)(B.Z,{text:b,shape:"default",size:"middle",type:"text"})})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(U.Z.Item,{name:"name",rules:[{required:!0,message:f.formatMessage({id:"common.form.rule.input"},{name:f.formatMessage({id:"common.table.name"})})}],children:(0,X.jsx)(Y.Z.Input,{label:f.formatMessage({id:"common.table.name"}),required:!0})}),(0,X.jsx)(U.Z.Item,{name:"expires_in",rules:[{required:!0,message:f.formatMessage({id:"common.form.rule.select"},{name:f.formatMessage({id:"apikeys.form.expiretime"})})}],children:(0,X.jsx)(G.Z,{options:Q,label:f.formatMessage({id:"apikeys.form.expiretime"}),required:!0})}),(0,X.jsx)(U.Z.Item,{name:"description",rules:[{required:!1}],children:(0,X.jsx)(Y.Z.TextArea,{label:f.formatMessage({id:"common.table.description"})})})]})})})},ee=k.Z.Column,te=function(){var e,t,n=(0,h.Z)(),r=(0,x.Z)({defaultSortOrder:"descend"}),i=r.sortOrder,l=r.setSortOrder,c=(0,Z.useIntl)(),R=(0,z.useRef)(null),O=(0,z.useState)({dataList:[],loading:!1,loadend:!1,total:0}),N=u()(O,2),_=N[0],W=N[1],L=(0,z.useState)(!1),F=u()(L,2),B=F[0],q=F[1],Y=(0,z.useState)(p.Kd.CREATE),G=u()(Y,2),U=G[0],V=G[1],J=(0,z.useState)({page:1,perPage:10,search:""}),Q=u()(J,2),te=Q[0],ne=Q[1],re=function(){var e=a()(o()().mark((function e(){var t,n;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W((function(e){return e.loading=!0,s()({},e)})),e.prev=1,t=s()({},P().pickBy(te,(function(e){return!!e}))),e.next=5,H(t);case 5:n=e.sent,W({dataList:n.items||[],loading:!1,loadend:!0,total:n.pagination.total}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),W({dataList:[],loading:!1,loadend:!0,total:_.total});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){q(!0),V(p.Kd.CREATE)},ie=function(){var e=a()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:q(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,z.useEffect)((function(){re()}),[te]),(0,K.y1)(v.ZP.CREATE,(function(){oe()}),{enabled:!B}),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(C._z,{ghost:!0,header:{title:c.formatMessage({id:"apikeys.title"})},extra:[],children:[(0,X.jsx)(m.Z,{marginBottom:22,left:(0,X.jsxs)(w.Z,{children:[(0,X.jsx)(E.Z,{placeholder:c.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){ne(s()(s()({},te),{},{page:1,search:e.target.value}))}}),(0,X.jsx)(S.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){re()},icon:(0,X.jsx)(y.Z,{})})]}),right:(0,X.jsxs)(w.Z,{size:20,children:[(0,X.jsx)(S.ZP,{icon:(0,X.jsx)(b.Z,{}),type:"primary",onClick:oe,children:c.formatMessage({id:"apikeys.button.create"})}),(0,X.jsx)(S.ZP,{icon:(0,X.jsx)(j.Z,{}),danger:!0,onClick:function(){R.current.show({content:"apikeys.table.apikeys",operation:"common.delete.confirm",selection:!0,onOk:function(){return a()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.D6)(n.selectedRowKeys,D);case 2:n.clearSelections(),re();case 4:case"end":return e.stop()}}),e)})))()}})},disabled:!n.selectedRowKeys.length,children:(0,X.jsxs)("span",{children:[null==c||null===(e=c.formatMessage)||void 0===e?void 0:e.call(c,{id:"common.button.delete"}),n.selectedRowKeys.length>0&&(0,X.jsxs)("span",{children:["(",null===(t=n.selectedRowKeys)||void 0===t?void 0:t.length,")"]})]})})]})}),(0,X.jsx)(T.ZP,{renderEmpty:function(e){if("Table"===e)return _.loading||!_.loadend||_.dataList.length?(0,X.jsx)("div",{}):(0,X.jsx)(M.Z,{image:M.Z.PRESENTED_IMAGE_SIMPLE})},children:(0,X.jsxs)(k.Z,{dataSource:_.dataList,rowSelection:n,loading:_.loading,rowKey:"id",onChange:function(e,t,n){l(n.order)},pagination:{showSizeChanger:!0,pageSize:te.perPage,current:te.page,total:_.total,hideOnSinglePage:10===te.perPage,onChange:function(e,t){ne(s()(s()({},te),{},{page:e,perPage:t||10}))}},children:[(0,X.jsx)(ee,{title:c.formatMessage({id:"common.table.name"}),dataIndex:"name",ellipsis:{showTitle:!1},render:function(e,t){return(0,X.jsx)(d.Z,{ghost:!0,style:{maxWidth:400},children:e})}},"name"),(0,X.jsx)(ee,{title:c.formatMessage({id:"apikeys.form.expiretime"}),dataIndex:"expires_at",ellipsis:{showTitle:!1},render:function(e,t){return(0,X.jsx)(d.Z,{ghost:!0,children:e?A()(e).format("YYYY-MM-DD HH:mm:ss"):c.formatMessage({id:"apikeys.form.expiration.never"})})}},"expiration"),(0,X.jsx)(ee,{title:c.formatMessage({id:"common.table.description"}),dataIndex:"description",ellipsis:{showTitle:!1},render:function(e,t){return(0,X.jsx)(d.Z,{ghost:!0,children:e})}},"description"),(0,X.jsx)(ee,{title:c.formatMessage({id:"common.table.createTime"}),dataIndex:"created_at",defaultSortOrder:"descend",sortOrder:i,showSorterTooltip:!1,sorter:!1,ellipsis:{showTitle:!1},render:function(e,t){return(0,X.jsx)(d.Z,{ghost:!0,children:A()(e).format("YYYY-MM-DD HH:mm:ss")})}},"createTime"),(0,X.jsx)(ee,{title:c.formatMessage({id:"common.table.operation"}),ellipsis:{showTitle:!1},render:function(e,t){return(0,X.jsx)(w.Z,{size:20,children:(0,X.jsx)(I.Z,{title:c.formatMessage({id:"common.button.delete"}),children:(0,X.jsx)(S.ZP,{onClick:function(){return e=t,void R.current.show({content:"apikeys.table.apikeys",operation:"common.delete.single.confirm",name:e.name,onOk:function(){return a()(o()().mark((function t(){return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,D(e.id);case 3:re();case 4:case"end":return t.stop()}}),t)})))()}});var e},size:"small",danger:!0,icon:(0,X.jsx)(j.Z,{})})})})}},"operation")]})})]}),(0,X.jsx)($,{open:B,action:U,title:c.formatMessage({id:"apikeys.button.create"}),onCancel:function(){q(!1)},onOk:ie}),(0,X.jsx)(f.Z,{ref:R})]})}}}]);