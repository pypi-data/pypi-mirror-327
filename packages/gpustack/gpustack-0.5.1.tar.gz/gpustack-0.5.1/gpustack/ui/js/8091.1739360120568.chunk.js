"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8091],{58573:function(e,n,t){var r=t(26068),l=t.n(r),a=t(78093),s=t(87497),i=t(50959),o=t(11527),u=function(e){var n=e.message,t=e.type,r=e.rows,i=void 0===r?1:r,u=e.ellipsis,c=e.style;return(0,o.jsx)(o.Fragment,{children:n?(0,o.jsxs)(s.Z.Paragraph,{type:t,ellipsis:void 0!==u?u:{rows:i,tooltip:n},style:l()({textAlign:"center",padding:"2px 5px",borderRadius:"var(--border-radius-base)",margin:0,backgroundColor:"var(--ant-color-error-bg)"},c),children:[(0,o.jsx)(a.Z,{className:"m-r-8"}),n]}):null})};n.Z=i.memo(u)},59995:function(e,n,t){t.d(n,{U:function(){return s},Z:function(){return a}});var r=t(9532),l=t(50959);function a(){return r.Z.CancelToken.source}function s(){var e=r.Z.CancelToken.source,n=(0,l.useRef)(null);return(0,l.useEffect)((function(){return function(){n.current&&n.current.cancel()}}),[]),{updateCancelToken:function(){n.current&&n.current.cancel(),n.current=e()},cancelRequest:function(){n.current&&n.current.cancel()},getCanceltToken:function(){return n.current.token},source:e}}},13311:function(e,n,t){var r=t(82092),l=t.n(r),a=t(26068),s=t.n(a),i=t(48305),o=t.n(i),u=t(1436),c=t(39139),d=t(55825),f=t(66389),m=t(4423),p=t(35374),x=t(68476),h=t(23333),v=t(40474),g=t(96247),b=t(32699),y=t.n(b),j=t(50959),C=t(35897),k=t(11527),w=(0,j.forwardRef)((function(e,n){var t=e.setParams,r=e.onValuesChange,a=e.onModelChange,i=e.parametersTitle,b=e.selectedModel,w=e.globalParams,Z=e.initialValues,N=e.paramsConfig,I=e.modelList,M=e.params,R=e.showModelSelector,S=void 0===R||R,T=e.extra,F=(0,p.useIntl)(),P=x.Z.useForm(),z=o()(P,1)[0],L=(0,j.useId)();(0,j.useImperativeHandle)(n,(function(){return{form:z}})),(0,j.useEffect)((function(){var e=b||"";S&&(e=e||y().get(I,"[0].value")),z.setFieldsValue(s()({model:e},Z)),t(s()({model:e},Z)),null==a||a(e)}),[I,S,b,Z]);var V=(0,j.useCallback)((function(e){null==a||a(e)}),[a]),B=(0,j.useCallback)((function(e,n){null==t||t(n),null==r||r(e,n)}),[r,t]),A=(0,j.useCallback)((function(e,n){var a=z.getFieldsValue();z.setFieldsValue(s()(s()({},a),{},l()({},n,e))),t(s()(s()({},a),{},l()({},n,e))),null==r||r(l()({},n,e),s()(s()({},a),{},l()({},n,e)))}),[z,t,r]);(0,j.useEffect)((function(){z.setFieldsValue(w)}),[w]);var E=(0,j.useCallback)((function(e){return(0,k.jsxs)("span",{className:C.Z.label,style:{width:f.d.mini},children:[(0,k.jsx)("span",{className:"text",children:e.description?(0,k.jsxs)(h.Z,{title:e.description,children:[(0,k.jsxs)("span",{children:[" ",e.label]}),(0,k.jsx)("span",{className:"m-l-5",children:(0,k.jsx)(m.Z,{})})]}):(0,k.jsx)("span",{children:e.label})}),(0,k.jsx)(v.Z,{className:"label-val",variant:"outlined",size:"small",value:z.getFieldValue(e.field),controls:!1,onChange:function(n){return A(n,e.field)}})]})}),[z,A]),O=(0,j.useCallback)((function(e){return e.description?e.description.html?(0,k.jsx)("div",{className:"m-t-5",dangerouslySetInnerHTML:{__html:F.formatMessage({id:e.description.text})}}):F.formatMessage({id:e.description.text}):null}),[F]),J=(0,j.useMemo)((function(){return null!=N&&N.length?N.map((function(e){return"InputNumber"===e.type?(0,k.jsx)(x.Z.Item,{name:e.name,rules:e.rules,children:(0,k.jsx)(c.Z.Number,s()(s()({},e.attrs),{},{style:{width:"100%"},label:e.label.isLocalized?F.formatMessage({id:e.label.text}):e.label.text}))},e.name):"TextArea"===e.type?(0,k.jsx)(x.Z.Item,{name:e.name,rules:e.rules,children:(0,k.jsx)(c.Z.TextArea,s()(s()({},e.attrs),{},{style:{width:"100%"},label:e.label.isLocalized?F.formatMessage({id:e.label.text}):e.label.text}))},e.name):"Select"===e.type?(0,k.jsx)(x.Z.Item,{name:e.name,rules:e.rules,children:(0,k.jsx)(d.Z,s()(s()({},e.attrs),{},{description:O(e),options:e.options,label:e.label.isLocalized?F.formatMessage({id:e.label.text}):e.label.text}))},e.name):"Slider"===e.type?(0,k.jsx)(x.Z.Item,{name:e.name,rules:e.rules,children:(0,k.jsx)(u.Z,{label:E({field:e.name,label:e.label.isLocalized?F.formatMessage({id:e.label.text}):e.label.text,description:null!==(n=e.description)&&void 0!==n&&n.isLocalized?F.formatMessage({id:null===(t=e.description)||void 0===t?void 0:t.text}):(null===(r=e.description)||void 0===r?void 0:r.text)||""}),style:{padding:"20px 2px 0"},variant:"borderless",children:(0,k.jsx)(g.Z,s()(s()({},e.attrs),{},{style:{marginBottom:0,marginTop:16,marginInline:0},tooltip:{open:!1},value:z.getFieldValue(e.name)||void 0,onChange:function(n){return A(n,e.name)}}))})},e.name):null;var n,t,r})):null}),[N,M,O,F]);return(0,k.jsx)(x.Z,{name:L,form:z,onValuesChange:B,onFinish:function(e){},onFinishFailed:function(e){},children:(0,k.jsxs)("div",{children:[(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h3",{className:"m-b-20 m-l-10 font-size-14 line-24",children:i||(0,k.jsx)("span",{children:F.formatMessage({id:"playground.parameters"})})}),(0,k.jsx)(x.Z.Item,{name:"model",rules:[{required:!0,message:F.formatMessage({id:"common.form.rule.select"},{name:F.formatMessage({id:"playground.model"})})}],children:(0,k.jsx)(d.Z,{onChange:V,showSearch:!0,options:I,label:F.formatMessage({id:"playground.model"})})})]}),J,T]})})}));n.Z=(0,j.memo)(w)},63057:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(26068),l=t.n(r),a=t(90228),s=t.n(a),i=t(48305),o=t.n(i),u=t(335),c=t.n(u),d=t(87999),f=t.n(d),m=t(15558),p=t.n(m),x=t(43943),h=t(35374),v=t(8267),g=t(23333),b=t(85885),y=t(82187),j=t.n(y),C=t(50959),k=t(11527),w=function(e){var n=e.value,t=e.onChange,r=e.onSelect,a=e.style,s=e.label,i=e.placeholder,u=e.height,c=void 0===u?46:u,d=(0,h.useIntl)(),f=C.useRef(null),m=(0,C.useState)({minRows:1,maxRows:1,focus:!1}),p=o()(m,2),y=p[0],w=p[1],Z=function(){w({minRows:3,maxRows:3,focus:!0}),setTimeout((function(){var e,n;null===(e=f.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),50)};return(0,k.jsxs)("div",{className:j()("row-textarea",{focus:y.focus}),style:l()({},a),children:[(0,k.jsxs)("div",{style:{display:y.focus?"block":"none"},className:"textarea-wrapper",children:[s&&(0,k.jsx)("span",{className:"textarea-label",children:s}),(0,k.jsx)(v.Z.TextArea,{className:"custome-scrollbar",ref:f,placeholder:i,style:{borderRadius:"0",border:"none"},value:n,autoSize:{minRows:y.minRows,maxRows:y.maxRows},onFocus:Z,onBlur:function(e){w({minRows:2,maxRows:2,focus:!1})},allowClear:!1,onChange:function(e){null==t||t(e)},onSelect:function(e){e.stopPropagation();var t=e.target.selectionStart,l=e.target.selectionEnd,a=n.substring(0,t),s=n.substring(l,n.length);null==r||r({start:t,end:l,beforeText:a,afterText:s})},onPaste:function(n){var t;null===(t=e.onPaste)||void 0===t||t.call(e,n)}})]}),!y.focus&&(0,k.jsxs)("div",{className:"content-wrap",onClick:Z,children:[(0,k.jsxs)("div",{className:"content",style:{height:c},children:[s&&(0,k.jsx)("span",{className:"title",children:s}),n||(0,k.jsx)("span",{style:{color:"var(--ant-color-text-tertiary)"},children:i})]}),n&&(0,k.jsx)(g.Z,{title:d.formatMessage({id:"common.button.clear"}),children:(0,k.jsx)(b.ZP,{className:"clear-btn",type:"text",icon:(0,k.jsx)(x.Z,{}),size:"small",onClick:function(){null==t||t({target:{value:""}})}})})]})]})},Z=C.memo(w),N=t(69070),I=t(32699),M=t.n(I),R=(0,C.forwardRef)((function(e,n){var t=e.textList,r=e.showLabel,a=void 0===r||r,i=e.sortIndex,u=void 0===i?[]:i,d=e.sortable,m=e.height,x=e.onSort,v=e.onChange,y=e.extra,j=e.onPaste,w=e.onSelect,I=(0,h.useIntl)(),R=(0,C.useRef)(0),S=(0,C.useRef)(null),T=(0,C.useRef)([]),F=function(){var e;T.current=Array.from((null===(e=S.current)||void 0===e?void 0:e.children)||[])},P=(0,C.useCallback)((function(e,n){var t=e.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left,y:r.top-t.top}}),[]),z=(0,C.useCallback)((function(e,n){var t=S.current;if(t){var r=Array.from(t.children);n>=r.length?t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e):t.insertBefore(e,r[n])}}),[]),L=function(e,n,t){if(n===t||n<0||t<0||n>=e.length||t>e.length)return e;var r=e.splice(n,1)[0];return e.splice(t>n?t-1:t,0,r),e},V=(0,C.useCallback)((function(){if(d&&(F(),S.current)){var e=p()(t),n=u.map((function(e,n){var t=T.current[e],r=T.current[n];if(!t||!r)return null;var l=P(t,r);return{element:t,offset:{x:l.x,y:l.y},fromIndex:e,toIndex:n}})),r=function(){var t=f()(s()().mark((function t(){var r,l,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c()(n.entries()),t.prev=1,a=s()().mark((function n(){var t,r,a,i,u,c;return s()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=o()(l.value,2),t[0],r=t[1]){n.next=3;break}return n.abrupt("return",1);case 3:return a=r.element,i=r.offset,u=r.fromIndex,c=r.toIndex,n.next=7,new Promise((function(n){a.style.opacity=.5,a.style.transform="translate(".concat(i.x,"px, ").concat(i.y,"px)"),a.style.transition="transform 0.8s,opacity 0.8s",a.addEventListener("transitionend",(function(){z(a,c),L(e,u,c),F(),a.style.opacity=1,a.style.transform="",n(null)}),{once:!0})}));case 7:case"end":return n.stop()}}),n)})),r.s();case 4:if((l=r.n()).done){t.next=10;break}return t.delegateYield(a(),"t0",6);case 6:if(!t.t0){t.next=8;break}return t.abrupt("continue",8);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(1),r.e(t.t1);case 15:return t.prev=15,r.f(),t.finish(15);case 18:null==x||x(e);case 19:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})));return function(){return t.apply(this,arguments)}}();r()}}),[d,u,t,x,F,P]),B=function(){return R.current=R.current+1,R.current},A=function(){B();var e=p()(t);e.push({text:"",uid:R.current,name:"Text ".concat(e.length+1)}),null==v||v(e)},E=function(e){var n=p()(t),r=n.findIndex((function(n){return n.uid===e.uid}));n.splice(r,1),null==v||v(n)},O=function(e,n){var r=p()(t),l=r.findIndex((function(e){return e.uid===n.uid}));r[l].text=e,null==v||v(r)},J=M().debounce(V,100);return(0,C.useEffect)((function(){null!=u&&u.length&&J()}),[u]),(0,C.useImperativeHandle)(n,(function(){return{handleAdd:A,handleDelete:E,handleTextChange:O,setMessageId:B}})),(0,k.jsx)("div",{className:"input-list",ref:S,children:t.map((function(e,n){return(0,k.jsxs)("div",{className:"input-item","data-uid":e.uid,children:[(0,k.jsx)("div",{className:"input-wrap",children:(0,k.jsx)(Z,{height:m,label:a?"".concat(n+1):null,value:e.text,placeholder:I.formatMessage({id:"playground.embedding.inputyourtext"}),onChange:function(n){return O(n.target.value,e)},onPaste:function(e){return null==j?void 0:j(e,n)},onSelect:function(e){return null==w?void 0:w(l()(l()({},e),{},{index:n}))}})}),(0,k.jsx)("span",{className:"btn-group",children:(0,k.jsx)(g.Z,{title:I.formatMessage({id:"common.button.delete"}),children:(0,k.jsx)(b.ZP,{danger:!0,size:"small",type:"text",icon:(0,k.jsx)(N.Z,{}),onClick:function(){return E(e)}})})}),null==y?void 0:y(e)]},e.uid)}))})})),S=C.memo(R)},91860:function(e,n,t){var r=t(48305),l=t.n(r),a=t(37616),s=t(43585),i=t(90515),o=t(35374),u=t(1956),c=t(85885),d=t(50959),f=t(11527),m="bash",p="python",x="javascript",h=[{label:"Curl",value:m},{label:"Python",value:p},{label:"Nodejs",value:x}],v=function(e){var n=e||{},t=n.title,r=n.open,v=n.onCancel,g=n.viewCodeContent,b=(0,o.useIntl)(),y=(0,d.useState)(m),j=l()(y,2),C=j[0],k=j[1],w=(0,d.useMemo)((function(){return C===m?null==g?void 0:g.curlCode:C===x?null==g?void 0:g.nodeJsCode:C===p?null==g?void 0:g.pythonCode:""}),[C,g]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(u.Z,{title:t,open:r,centered:!0,onCancel:function(){k(m),v()},destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:[(0,f.jsx)("div",{style:{marginBottom:"10px"},children:b.formatMessage({id:"playground.viewcode.info"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)(a.Z,{copyText:w,langOptions:h,defaultValue:m,showHeader:!0,onChangeLang:function(e){k(e)},styles:{wrapper:{backgroundColor:"var(--color-editor-dark)"}},children:(0,f.jsx)("div",{style:{paddingRight:2,paddingBottom:2},children:(0,f.jsx)(s.Z,{height:380,theme:"dark",code:w,lang:C,copyable:!1})})}),(0,f.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"baseline"},children:[(0,f.jsx)(i.Z,{className:"m-r-8"}),(0,f.jsx)("span",{children:b.formatMessage({id:"playground.viewcode.tips"},{here:(0,f.jsx)(c.ZP,{type:"link",size:"small",href:"#/api-keys",target:"_blank",style:{paddingInline:2},children:(0,f.jsxs)("span",{children:[" ",b.formatMessage({id:"playground.viewcode.here"})]})})})})]})]})]})})};n.Z=d.memo(v)},39616:function(e,n,t){t.d(n,{G4:function(){return c},GT:function(){return d},Yy:function(){return u}});var r=t(26068),l=t.n(r),a=t(31759),s=t.n(a),i=t(32699),o=t.n(i),u=function(e,n){return n?o().keys(e).reduce((function(n,t){var r=e[t],l="object"===s()(r)?JSON.stringify(r,null,2):"".concat(r);return n+"-F ".concat(t,'="').concat(l,'" \\\n')}),""):"-d '".concat(JSON.stringify(e,null,2),"'")},c=function(e){return o().keys(e).reduce((function(n,t){if(null===e[t]||void 0===e[t])return n;var r="object"===s()(e[t])?JSON.stringify(e[t],null,2):'"'.concat(e[t],'"');return n+"  ".concat(t,"=").concat(r,",\n")}),"")},d=function(e){return JSON.stringify(l()({},e),null,4)}},32314:function(){}}]);