import{d as C,M as w,r as s,k as $,R as H,Q as O,o as q,e as A,E as P,G as W,_ as X}from"./index-BEZl8isL.js";const b=200,N=36,L=C({__name:"BuilderInstanceTracker",props:{instancePath:{},matchSize:{type:Boolean},verticalOffsetPixels:{},isOffBoundsAllowed:{type:Boolean},preventSettingsBarOverlap:{type:Boolean}},setup(y){const v=y,{instancePath:B,matchSize:l,verticalOffsetPixels:r,isOffBoundsAllowed:_,preventSettingsBarOverlap:S}=w(v),i=s(null),d=s(0),u=s(null),k=e=>{const n=document.querySelector(".ComponentRenderer"),{top:R,left:T}=e.getBoundingClientRect(),{clientHeight:M}=document.body,{clientWidth:E}=n,{left:p}=n.getBoundingClientRect(),c=document.querySelector(".BuilderSettings"),{left:m}=(c==null?void 0:c.getBoundingClientRect())||{left:1/0};let{clientHeight:h,clientWidth:a}=l!=null&&l.value?e:u.value,I=r!=null&&r.value?r.value:0,t=T,o=R+I;if(_.value||(t=Math.max(p,t),t=Math.min(p+E-a,t),o=Math.max(N,o),o=Math.min(M-h,o)),S.value){let g=0;t+a>m&&(g=Math.max(t-(m-a),0)),t-=g}i.value={top:`${o}px`,left:`${t}px`,width:`${a}px`,height:`${h}px`}},f=()=>{let e=document.querySelector(`.ComponentRenderer [data-writer-instance-path="${B.value}"]`);if(x(),!e)return;const n=getComputedStyle(e);n&&(n.display=="contents"&&(e=e.querySelector("[data-writer-id]")),e&&k(e))},x=()=>{d.value=setTimeout(f,b)};return $(async()=>{await H(),f()}),O(()=>{clearTimeout(d.value)}),(e,n)=>(q(),A("div",{ref_key:"rootEl",ref:u,class:"BuilderInstanceTracker",style:W(i.value)},[P(e.$slots,"default",{},void 0,!0)],4))}}),j=X(L,[["__scopeId","data-v-f5bff36a"]]);export{j as default};
